<p-dialog
  [(visible)]="visible"
  [draggable]="false"
  [style]="{ width: '40rem' }"
  [modal]="true"
  (onHide)="hide()"
>
  <ng-template #header>
    @if (topic()) {
    <h2 class="my-0">Editar Tema</h2>
    }@else {
    <h2 class="my-0">Agregar Tema</h2>
    }
  </ng-template>

  <ng-template #content>
    <form class="form" [formGroup]="topicForm">
      <div class="flex flex-column">
        <label for="month" class="ml-1 mb-1">Mes:</label>
        <p-datepicker
          id="month"
          inputId="month"
          formControlName="month"
          view="month"
          dateFormat="MM"
          [readonlyInput]="true"
          appendTo="body"
          styleClass="w-full"
          aria-describedby="month-help"
        />
        @if (submitted&&month.errors) {
        <small id="month-help" class="text-red-500 mt-1 ml-1">
          {{ monthErrorMsg }}
        </small>
        }

        <label for="name" class="mt-3 mb-1 ml-1">Nombre:</label>
        <input
          pInputText
          id="name"
          placeholder="Nombre del tema..."
          formControlName="name"
          aria-describedby="name-help"
        />
        @if (submitted&&name.errors) {
        <small id="name-help" class="text-red-500 mt-1 ml-1">
          {{ nameErrorMsg }}
        </small>
        }
      </div>
    </form>
  </ng-template>

  <ng-template #footer>
    <div class="flex justify-content-end gap-2">
      <p-button
        label="Cancelar"
        icon="pi pi-times"
        [text]="true"
        (onClick)="hide()"
      />

      <p-button
        label="Guardar"
        icon="pi pi-check"
        [text]="true"
        (onClick)="add()"
      />
    </div>
  </ng-template>
</p-dialog>
